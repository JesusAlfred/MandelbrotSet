(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const h=600,y=400,u=1,E=-2,R=1,I=-1,P=1;let v,w,O,S,i=.8221188003905089;const C=100;let a=C,l=.2,d=0,f=-1.484583315209498;const g=document.querySelector("#board"),m=g.getContext("2d"),q=document.querySelector("#slider"),B=document.querySelector("#p");g.width=u*h;g.height=u*y;m.scale(u,u);q.addEventListener("input",t=>{i=Math.E**(t.target.value*2)-1,l=1/i,p()});B.addEventListener("input",t=>{a=t.target.value,p()});let D=function(t,o){return new Promise((n,c)=>{for(let e=t;e<o;e++)for(let r=0;r<h;r++){const s=N(r,e);T(r,e,Math.floor(_(s,0,100)))}n()})};const L=100;async function p(){v=f+E/i,w=f+R/i,O=d+I/i,S=d+P/i;for(let t=0;t<y;t+=L)setTimeout(()=>{D(t,t+L)},0)}document.addEventListener("keydown",t=>{switch(t.key){case"ArrowDown":d+=l;break;case"ArrowUp":d-=l;break;case"ArrowLeft":f-=l;break;case"ArrowRight":f+=l;break}p()});function N(t,o){let n=b(t,0,h,v,w),c=b(o,0,y,O,S),e=0,r=0,s=0;for(;s<a;){const A=e*e-r*r;if(r=2*(e*r)+c,e=A+n,e**2+r**2>4)break;s++}return a-s}function T(t,o,n){m.fillStyle=x(n),m.fillRect(t,o,1,1)}function _(t,o,n){const c=(n-o)/a;return o+t*c}function b(t,o,n,c,e){const r=(e-c)/(n-o);return c+r*t}function x(t){return t===0?"hsl(0 0% 0%)":`hsl(${t*3.6}, 100%, 50%)`}p();
